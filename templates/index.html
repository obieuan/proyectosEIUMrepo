{% extends 'base.html' %}

{% block title %}Archivo Historico de Proyectos{% endblock %}

{% block content %}
<section class="hero">
    <div class="container hero-grid">
        <div class="hero-copy hero-copy-centered reveal">
            <p class="hero-kicker">Archivo vivo academico</p>
            <h1>Innovacion estudiantil, preservada y abierta para todos.</h1>
            <p class="hero-text">
                Un museo digital interactivo que celebra los proyectos con impacto.
                Explora por carrera, categoria y ciclo escolar.
            </p>
            <div class="hero-actions">
                <a class="btn btn-primary" href="/explorar">Explorar proyectos</a>
                <a class="btn btn-ghost" href="#recientes">Ver recientes</a>
            </div>
        </div>
        <div class="hero-panel reveal">
            <div class="stats-cards">
                <div class="stat-card">
                    <span class="stat-number">+{{ stats.total }}</span>
                    <span class="stat-label">Proyectos</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">{{ stats.categories }}</span>
                    <span class="stat-label">Categorias</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">+{{ stats.students }}</span>
                    <span class="stat-label">Estudiantes</span>
                </div>
            </div>
            <div class="hero-gradient"></div>
        </div>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="section-head">
            <div>
                <p class="section-kicker">Coleccion destacada</p>
                <h2>Proyectos destacados del mes</h2>
            </div>
            <div class="carousel-controls">
                <button class="carousel-btn carousel-prev" aria-label="Anterior">&larr;</button>
                <button class="carousel-btn carousel-next" aria-label="Siguiente">&rarr;</button>
            </div>
        </div>
        <div class="featured-grid" id="featured-carousel">
            {% for project in featured %}
                {% include 'components/project_card.html' %}
            {% else %}
                <p class="empty-state">No hay proyectos destacados aun.</p>
            {% endfor %}
        </div>
    </div>
</section>

<section id="recientes" class="section">
    <div class="container">
        <div class="section-head">
            <div>
                <p class="section-kicker">Recientes</p>
                <h2>Explora los proyectos mas recientes</h2>
            </div>
            <a class="link" href="/explorar">Ver todos los proyectos</a>
        </div>
        <div class="recent-layout">
            <div class="recent-grid" id="recent-grid">
                {% include 'components/recent_grid.html' %}
            </div>
            <aside class="category-sidebar">
                <p class="category-kicker">Categorias</p>
                <div class="category-list">
                    <a class="category-chip category-chip-all{% if not active_category %} is-active{% endif %}" href="{{ url_for('index') }}">
                        <span class="category-name">Todas</span>
                        <span class="category-count">{{ stats.total }}</span>
                    </a>
                    {% for category in categories %}
                        {% set category_value = category.value or category.label %}
                        <a class="category-chip{% if active_category == category_value %} is-active{% endif %}" href="{{ url_for('index', categoria=category_value) }}">
                            <span class="category-name">{{ category.label }}</span>
                            <span class="category-count">{{ category.total }}</span>
                        </a>
                    {% else %}
                        <p class="empty-state">Sin categorias para mostrar.</p>
                    {% endfor %}
                </div>
            </aside>
        </div>
    </div>
</section>
{% endblock %}
